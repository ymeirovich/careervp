uv run pytest tests/unit  --cov-config=.coveragerc --cov=careervp --cov-report xml
============================= test session starts ==============================
platform darwin -- Python 3.14.2, pytest-9.0.2, pluggy-1.6.0
rootdir: /Users/yitzchak/Documents/dev/careervp/src/backend
configfile: pyproject.toml
plugins: anyio-4.12.1, mock-3.15.1, metadata-3.1.1, html-4.2.0, typeguard-2.13.3, cov-7.0.0
collected 48 items

tests/unit/test_cv_upload_handler.py ...........                         [ 22%]
tests/unit/test_dynamo_dal_handler.py ....                               [ 31%]
tests/unit/test_env_vars_parser.py ...                                   [ 37%]
tests/unit/test_fvs_validator.py ..............                          [ 66%]
tests/unit/test_parse_configuration.py ..                                [ 70%]
tests/unit/test_vpr_generator.py .....                                   [ 81%]
tests/unit/test_vpr_handler.py ......                                    [ 93%]
tests/unit/test_vpr_prompt.py ...                                        [100%]

=============================== warnings summary ===============================
tests/unit/test_dynamo_dal_handler.py::TestDynamoDalHandlerVPR::test_save_and_get_vpr
tests/unit/test_dynamo_dal_handler.py::TestDynamoDalHandlerVPR::test_get_latest_vpr_prefers_highest_version
tests/unit/test_dynamo_dal_handler.py::TestDynamoDalHandlerVPR::test_get_latest_vpr_prefers_highest_version
tests/unit/test_dynamo_dal_handler.py::TestDynamoDalHandlerVPR::test_list_vprs_filters_by_user
tests/unit/test_dynamo_dal_handler.py::TestDynamoDalHandlerVPR::test_list_vprs_filters_by_user
tests/unit/test_dynamo_dal_handler.py::TestDynamoDalHandlerVPR::test_list_vprs_filters_by_user
  /Users/yitzchak/Documents/dev/careervp/src/backend/tests/unit/test_dynamo_dal_handler.py:105: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    created_at=datetime.utcnow(),

tests/unit/test_fvs_validator.py::TestVPRValidationAgainstCV::test_vpr_validation_passes_when_facts_align
tests/unit/test_fvs_validator.py::TestVPRValidationAgainstCV::test_vpr_validation_detects_unknown_company
tests/unit/test_fvs_validator.py::TestVPRValidationAgainstCV::test_vpr_validation_detects_unknown_dates
tests/unit/test_fvs_validator.py::TestVPRValidationAgainstCV::test_vpr_validation_detects_unknown_title
  /Users/yitzchak/Documents/dev/careervp/src/backend/tests/unit/test_fvs_validator.py:234: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    created_at=datetime.utcnow(),

tests/unit/test_vpr_generator.py::TestGenerateVPR::test_successful_generation
tests/unit/test_vpr_generator.py::TestGenerateVPR::test_fvs_failure_blocks_persistence
tests/unit/test_vpr_generator.py::TestGenerateVPR::test_dal_failure_returns_dynamodb_error
  /Users/yitzchak/Documents/dev/careervp/src/backend/careervp/logic/vpr_generator.py:200: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    created_at=datetime.utcnow(),

tests/unit/test_vpr_handler.py::test_successful_vpr_generation
tests/unit/test_vpr_handler.py::test_metrics_emitted_on_success
  /Users/yitzchak/Documents/dev/careervp/src/backend/tests/unit/test_vpr_handler.py:89: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
    created_at=datetime.utcnow(),

tests/unit/test_vpr_handler.py::test_successful_vpr_generation
tests/unit/test_vpr_handler.py::test_missing_cv_returns_404
tests/unit/test_vpr_handler.py::test_invalid_request_body_returns_400
tests/unit/test_vpr_handler.py::test_fvs_validation_failure_returns_422
tests/unit/test_vpr_handler.py::test_llm_error_returns_502
tests/unit/test_vpr_handler.py::test_metrics_emitted_on_success
  /Users/yitzchak/Documents/dev/careervp/src/backend/.venv/lib/python3.14/site-packages/aws_lambda_powertools/metrics/provider/base.py:211: UserWarning: No application metrics to publish. The cold-start metric may be published if enabled. If application metrics should never be empty, consider using 'raise_on_empty_metrics'
    self.flush_metrics(raise_on_empty_metrics=raise_on_empty_metrics)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================================ tests coverage ================================
_______________ coverage: platform darwin, python 3.14.2-final-0 _______________

Coverage XML written to file coverage.xml
======================= 48 passed, 21 warnings in 2.49s ========================
